pipeline{
agent any

  stages{
  
    stage("Git Checkout"){
      steps{
          git branch: 'J2EE', credentialsId: 'GitID', url: 'https://github.com/shreemansandeep/javaonlinebookstore.git'
    }
}

stage("Maven Build"){
      steps{
          sh "mvn clean package"
  
    }
}

stage('Static code analysis'){
            
            steps{
                    withSonarQubeEnv(credentialsId: 'sonartoken')  {
                        sh 'mvn clean package sonar:sonar'
                    }
                   }
            }


}
}
